---
title: Texture Relocator
category: model
description: シーン内のテクスチャファイルパスを一括で再配置
lang: ja
lang-ref: texture_relocator
order: 40
---

## 概要

シーン内のすべての file ノードに紐づいたテクスチャファイルのパスを一括で変更するツールです。

主な機能:

- **Copy & Relink**: テクスチャファイルを指定ディレクトリにコピーし、file ノードのパスを更新
- **Replace Path**: file ノードのパスを指定ディレクトリに置き換え（ファイルのコピーは行わない）

UDIM テクスチャ（`<UDIM>`）および連番テクスチャ（`<F>`）にも対応しています。

## 起動方法

専用のメニューか、以下のコマンドでツールを起動します。

```python
import faketools.tools.model.texture_relocator.ui
faketools.tools.model.texture_relocator.ui.show_ui()
```

![Texture Relocator UI](../../images/model/texture_relocator/image001.png)

## 使用方法

### Copy & Relink（コピーしてリンク）

テクスチャファイルを別のディレクトリにコピーし、シーン内の file ノードのパスを新しい場所に更新します。

1. **Target Directory** に、テクスチャのコピー先ディレクトリを指定します。
   - `...` ボタンでディレクトリを選択できます。
   - 指定したディレクトリが存在しない場合、作成するか確認されます。

2. 必要に応じて **Confirm overwrite** オプションを設定します。
   - オン: コピー先に同名ファイルが存在する場合、上書き確認ダイアログを表示
   - オフ: 確認なしで上書き

3. **Copy & Relink** ボタンをクリックします。

4. シーン内のすべてのテクスチャファイルが指定ディレクトリにコピーされ、file ノードのパスが更新されます。

### Replace Path（パス置換）

テクスチャファイルのコピーは行わず、file ノードのパスのみを変更します。指定ディレクトリに同名のテクスチャファイルが既に存在している前提で使用します。

1. **Target Directory** に、テクスチャファイルが配置されているディレクトリを指定します。

2. **Replace Path** ボタンをクリックします。

3. シーン内のすべての file ノードのパスが、指定ディレクトリを参照するように更新されます。

## オプション

| オプション | 説明 |
|-----------|------|
| Target Directory | テクスチャのコピー先またはリンク先のディレクトリパス |
| Confirm overwrite | オンの場合、コピー先に同名ファイルが存在するときに確認ダイアログを表示 |

## UDIM・連番テクスチャについて

本ツールは UDIM テクスチャと連番テクスチャに対応しています。

- **UDIM**: `texture.<UDIM>.png` のようなパターンのテクスチャ（1001, 1002, ... の複数ファイル）
- **連番**: `texture.<F>.png` のようなパターンのテクスチャ（フレーム番号の連番ファイル）

これらのテクスチャは、関連するすべてのファイルが自動的に処理されます。

## 注意事項

- 本ツールはシーン内のすべての file ノードを対象とします。特定のノードのみを対象とする機能はありません。
- Replace Path 機能は、指定ディレクトリに同名ファイルが存在することを前提としています。存在しない場合、テクスチャが正しく読み込まれなくなる可能性があります。
- 操作は Undo 可能です。

---
title: Snapshot Capture
category: common
description: ビューポートからPNGスナップショットやアニメーションGIFをキャプチャ
lang: ja
lang-ref: snapshot_capture
order: 30
---

## 概要

Snapshot Capture は、Maya のビューポートから画像をキャプチャするためのツールです。以下の3つのモードを搭載しています。

| モード | 説明 |
|--------|------|
| PNG | 現在のフレームを PNG 画像として保存またはクリップボードにコピー |
| GIF | タイムラインの範囲をアニメーション GIF として保存 |
| Rec | ビューポートをリアルタイムで録画し、GIF として保存 |

## 起動方法

専用のメニューか、以下のコマンドでツールを起動します。

```python
import faketools.tools.common.snapshot_capture.ui
faketools.tools.common.snapshot_capture.ui.show_ui()
```

![image](../../images/common/snapshot_capture/image001.png)


## 基本的な使い方

### ビューポートの操作

ツールウィンドウには専用のモデルパネル（ビューポート）が埋め込まれています。通常の Maya ビューポートと同様に、カメラの回転・パン・ズームなどの操作が可能です。

#### カメラの切り替え

メニューバーの **Camera** メニューから、表示するカメラを切り替えることができます。

![image](../../images/common/snapshot_capture/image006.png)

### 解像度の設定

ツールバー下段で、出力画像の解像度を設定できます。

![image](../../images/common/snapshot_capture/image002.png)

1. **幅・高さ入力欄**: 任意の解像度を直接入力
2. **プリセットボタン** (▼): 以下のプリセットから選択可能
   - 1920x1080 (Full HD)
   - 1280x720 (HD)
   - 800x600
   - 640x480 (VGA)
   - 640x360
   - 512x512
   - 320x240
   - 256x256
   - 128x128
3. **Set ボタン**: 入力した解像度をビューポートに適用

## PNG モード

現在のフレームを PNG 画像としてキャプチャします。

![image](../../images/common/snapshot_capture/image001.png)

### 操作方法

1. モードセレクタで **PNG** を選択
2. 必要に応じて背景色を設定（後述）
3. 以下のいずれかを実行：
   - **Save ボタン** (💾): ファイルダイアログが開き、PNG ファイルとして保存
   - **Copy ボタン** (📋): クリップボードに画像をコピー

### 外部アプリで編集

**Copy ボタン**を右クリックすると、コンテキストメニューが表示されます。

- **Edit in External App**: キャプチャした画像を OS のデフォルト画像アプリで開きます

この機能を使用すると、キャプチャした画像を一時ファイルとして保存し、即座に外部アプリケーション（Windows のフォトアプリ、ペイントなど）で開くことができます。画像の簡単な編集や確認に便利です。

> **Note**: この機能は現在 Windows のみで利用可能です。

### 背景色の設定

**BG ボタン**をクリックすると、カラーピッカーが開き背景色を選択できます。

![image](../../images/common/snapshot_capture/image003.png)

#### オプションメニュー

歯車アイコンのオプションボタンから追加設定にアクセスできます。

- **Transparent**: 背景を透明にします（アルファチャンネル付き PNG）
- **Use Maya Background**: Maya のグローバル背景色を使用

## GIF モード

タイムラインの再生範囲をアニメーション GIF としてキャプチャします。

![image001](../../images/common/snapshot_capture/image004.png)

### 操作方法

1. モードセレクタで **GIF** を選択
2. Maya のタイムラインで開始フレームと終了フレームを設定
3. 必要に応じて背景色・オプションを設定
4. **Save ボタン** (💾) をクリックしてファイルを保存

### オプション

オプションメニューから以下の設定が可能です。

| オプション | 説明 |
|------------|------|
| Transparent | 背景を透明にする |
| Use Maya Background | Maya のグローバル背景色を使用 |
| Loop | GIF をループ再生する（デフォルト: オン） |
| FPS | フレームレートを設定（10, 12, 15, 24, 30, 50, 60） |

## Rec モード

ビューポートをリアルタイムで録画し、GIF として保存します。マウスカーソルやキーボード入力のオーバーレイ表示も可能です。

![image001](../../images/common/snapshot_capture/image005.png)

### 操作方法

1. モードセレクタで **Rec** を選択
2. オプションメニューで録画設定を行う（後述）
3. **Record ボタン** (●) をクリックして録画を開始
4. カウントダウン後、録画が開始されます
5. **Stop ボタン** (■) をクリックして録画を停止
6. ファイルダイアログが開き、GIF として保存

### カウントダウン中のキャンセル

カウントダウン中にボタンをクリックすると、録画をキャンセルできます。

### オプション

オプションメニューから以下の設定が可能です。

| オプション | 説明 |
|------------|------|
| Loop | GIF をループ再生する |
| FPS | 録画のフレームレート（10, 12, 15, 24, 30, 50, 60） |
| Delay | 録画開始前のカウントダウン秒数（0, 1, 2, 3） |
| Trim | 録画終了時に末尾からトリムする秒数（0, 1, 2, 3） |
| Show Cursor | マウスカーソルをオーバーレイ表示 |
| Show Clicks | クリック位置をインジケータで表示 |
| Show Keys | 押されたキーをオーバーレイ表示 |

マウスクリックについては、左クリック・右クリック・中クリックそれぞれ異なるインジケータが表示されます。

## 設定の保存

ウィンドウを閉じる際、以下の設定が自動的に保存されます。

- 選択中のモード
- 解像度（幅・高さ）
- 背景色
- 透明設定
- FPS
- Loop 設定
- Delay・Trim 設定
- カーソル・クリック・キー表示設定

次回起動時に、これらの設定が復元されます。

## 保存先について

- 初回保存時は、ツール専用のデータディレクトリがデフォルトの保存先として使用されます
- 一度ファイルを保存すると、同セッション内では最後に保存したディレクトリが記憶されます

## 注意事項

- GIF モードでは、最大 500 フレームまでキャプチャ可能です
- Rec モードの録画は、ビューポートの画面キャプチャを使用するため、他のウィンドウがビューポートを覆うとキャプチャに含まれる可能性があります
- 高解像度・高フレームレートでの録画は、メモリ使用量が増加します
